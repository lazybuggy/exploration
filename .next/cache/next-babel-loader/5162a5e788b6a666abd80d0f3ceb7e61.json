{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from 'isomorphic-unfetch';\nimport { useState, useEffect } from 'react';\nimport '../css/scenario.css';\nimport Choices from '../components/Choices';\n\nvar Scenario = function Scenario(props) {\n  var _useState = useState({}),\n      scenario = _useState[0],\n      setScenario = _useState[1];\n\n  var _useState2 = useState('https://cdn.wallpapersafari.com/24/38/js0uT2.jpg'),\n      background = _useState2[0],\n      setBackground = _useState2[1];\n\n  function fetchData() {\n    return _fetchData.apply(this, arguments);\n  }\n\n  function _fetchData() {\n    _fetchData = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"http://localhost:3000/api/scenarios/\" + props.scenarioId);\n\n            case 2:\n              res = _context.sent;\n              res.json().then(function (res) {\n                setScenario(res);\n\n                if (res.background) {\n                  setBackground(res.background);\n                }\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _fetchData.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    fetchData();\n  }, [scenario]); // var text=\"omg whar is happ\";\n  // function typeWrite(hello){\n  //   // var i = 0;\n  //   for(var i=0;i < hello.length;i++){\n  //     document.getElementById(\"yo\").innerHTML += hello.charAt(i);\n  //     // console.log(i,hello.length,hello.charAt(3));\n  //     // i++;\n  //     console.log('inc',i);\n  //     // setTimeout(typeWrite(hello),1);\n  //   }\n  // }\n\n  var styles = {\n    backgroundImage: \"url(\".concat(background, \")\"),\n    backgroundSize: 'cover',\n    backgroundPosition: 'center center',\n    backgroundRepeat: 'no-repeat'\n  };\n  return __jsx(\"div\", {\n    className: \"scenario\"\n  }, __jsx(\"div\", {\n    className: \"background\",\n    style: styles\n  }, __jsx(\"div\", {\n    className: \"scenarioText\"\n  }, __jsx(\"div\", {\n    id: \"yo\"\n  }), scenario.text && scenario.text.split('//').map(function (paragraph, index) {\n    return __jsx(\"h1\", {\n      key: index\n    }, paragraph); // typeWrite(\"omgg wjats going on\");\n  })), __jsx(Choices, {\n    scenarioId: props.scenarioId,\n    setScenarioId: props.setScenarioId\n  })));\n};\n\nexport default Scenario;","map":{"version":3,"sources":["/Users/luciaokeh/Documents/exploration/components/Scenario.js"],"names":["fetch","useState","useEffect","Choices","Scenario","props","scenario","setScenario","background","setBackground","fetchData","scenarioId","res","json","then","styles","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","text","split","map","paragraph","index","setScenarioId"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AACA,SAAQC,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,OAAO,qBAAP;AACA,OAAOC,OAAP,MAAoB,uBAApB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AAAA,kBACMJ,QAAQ,CAAC,EAAD,CADd;AAAA,MACnBK,QADmB;AAAA,MACTC,WADS;;AAAA,mBAEUN,QAAQ,CAAC,kDAAD,CAFlB;AAAA,MAEnBO,UAFmB;AAAA,MAEPC,aAFO;;AAAA,WAIXC,SAJW;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,6BAI1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACoBV,KAAK,CAAC,yCAAuCK,KAAK,CAACM,UAA9C,CADzB;;AAAA;AACQC,cAAAA,GADR;AAEEA,cAAAA,GAAG,CAACC,IAAJ,GAAWC,IAAX,CAAgB,UAAAF,GAAG,EAAI;AACrBL,gBAAAA,WAAW,CAACK,GAAD,CAAX;;AACA,oBAAIA,GAAG,CAACJ,UAAR,EAAoB;AAClBC,kBAAAA,aAAa,CAACG,GAAG,CAACJ,UAAL,CAAb;AACD;AACF,eALD;;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAJ0B;AAAA;AAAA;;AAc1BN,EAAAA,SAAS,CAAC,YAAM;AACdQ,IAAAA,SAAS;AACV,GAFQ,EAEP,CAACJ,QAAD,CAFO,CAAT,CAd0B,CAkB1B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAIS,MAAM,GAAG;AACXC,IAAAA,eAAe,gBAASR,UAAT,MADJ;AAEXS,IAAAA,cAAc,EAAE,OAFL;AAGXC,IAAAA,kBAAkB,EAAE,eAHT;AAIXC,IAAAA,gBAAgB,EAAE;AAJP,GAAb;AAOA,SAAO;AAAK,IAAA,SAAS,EAAC;AAAf,KACL;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,KAAK,EAAEJ;AAAnC,KAEA;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAK,IAAA,EAAE,EAAC;AAAR,IADF,EAECT,QAAQ,CAACc,IAAT,IAAiBd,QAAQ,CAACc,IAAT,CAAcC,KAAd,CAAoB,IAApB,EAA0BC,GAA1B,CAA8B,UAACC,SAAD,EAAWC,KAAX,EAAmB;AACjE,WAAO;AAAI,MAAA,GAAG,EAAEA;AAAT,OAAiBD,SAAjB,CAAP,CADiE,CAEjE;AACC,GAHe,CAFlB,CAFA,EAYA,MAAC,OAAD;AAAS,IAAA,UAAU,EAAElB,KAAK,CAACM,UAA3B;AAAuC,IAAA,aAAa,EAAEN,KAAK,CAACoB;AAA5D,IAZA,CADK,CAAP;AAgBD,CArDD;;AAuDA,eAAerB,QAAf","sourcesContent":["import fetch from 'isomorphic-unfetch';\nimport {useState, useEffect} from 'react';\nimport '../css/scenario.css';\nimport Choices from '../components/Choices';\n\nconst Scenario = (props) => {\n  const [scenario, setScenario] = useState({});\n  const [background, setBackground] = useState('https://cdn.wallpapersafari.com/24/38/js0uT2.jpg');\n\n  async function fetchData(){\n    const res = await fetch(\"http://localhost:3000/api/scenarios/\"+props.scenarioId);\n    res.json().then(res => { \n      setScenario(res); \n      if (res.background) { \n        setBackground(res.background) \n      } \n    });\n  }\n\n  useEffect(() => {\n    fetchData();\n  },[scenario]);\n\n  // var text=\"omg whar is happ\";\n\n  // function typeWrite(hello){\n  //   // var i = 0;\n  //   for(var i=0;i < hello.length;i++){\n  //     document.getElementById(\"yo\").innerHTML += hello.charAt(i);\n  //     // console.log(i,hello.length,hello.charAt(3));\n  //     // i++;\n  //     console.log('inc',i);\n  //     // setTimeout(typeWrite(hello),1);\n  //   }\n  // }\n  let styles = {\n    backgroundImage: `url(${background})`,\n    backgroundSize: 'cover',\n    backgroundPosition: 'center center',\n    backgroundRepeat: 'no-repeat',\n  };\n \n  return <div className=\"scenario\">\n    <div className=\"background\" style={styles}>\n    {/* <div className=\"background\" style={{ background: scenario.background ? `url(${scenario.background})`:null}}/> */}\n    <div className=\"scenarioText\">\n      <div id=\"yo\"/>\n    {scenario.text && scenario.text.split('//').map((paragraph,index)=>{\n      return <h1 key={index}>{paragraph}</h1>\n      // typeWrite(\"omgg wjats going on\");\n      })\n    }\n    </div>\n    {/* <Choices scenarioId={props.scenarioId} setScenarioId={props.setScenarioId} /> */}\n\n    <Choices scenarioId={props.scenarioId} setScenarioId={props.setScenarioId} />\n    </div>\n  </div>\n};\n\nexport default Scenario;\n"]},"metadata":{},"sourceType":"module"}